# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
names(df_oneShow)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
names(df_oneShow)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# loss1Companies
loss <- finStatement$`營業利益（損失）`< 0
loss1Companies <- as.character(finStatement[loss,"公司名稱"])
loss1Companies
# loss2Companies
negative <- finStatement$`基本每股盈餘（元）` < 0
loss2Companies <- as.character(finStatement[negative,"公司名稱"])
loss2Companies
# only1LossCompanies
gain <- finStatement$`營業利益（損失）` > 0
postitive <- finStatement$`基本每股盈餘（元）` > 0
case1 <- gain & negative
case2 <- loss & postitive
condition1 <- case1 | case2
only1LossCompanies <- as.character(finStatement[condition1,"公司名稱"])
only1LossCompanies
# subsample
subsample <- finStatement[condition1,"公司名稱"]
subsample
# numExhibitions
numExhibitions <- length(exhibitionList)
numExhibitions
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# levels(df_allShows$sourceWebName)
df_allShows
View(df_allShows)
# levels(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName) <- df_allShows[sourceWebName]
# levels(df_allShows$sourceWebName)
df_allShows
levels(df_allShows$sourceWebName) <- df_allShows[sourceWebName]
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(levels(df_allShows$sourceWebName)== "全國藝文活動資訊系統")
totalCount
# totalCount
totalCount <- levels(df_allShows$sourceWebName)== "全國藝文活動資訊系統")
# totalCount
totalCount <- levels(df_allShows$sourceWebName)== "全國藝文活動資訊系統"
totalCount
# levels(df_allShows$sourceWebName)
as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
# loss1Companies
loss <- finStatement$`營業利益（損失）`< 0
loss1Companies <- as.character(finStatement[loss,"公司名稱"])
loss1Companies
# loss2Companies
negative <- finStatement$`基本每股盈餘（元）` < 0
loss2Companies <- as.character(finStatement[negative,"公司名稱"])
loss2Companies
# only1LossCompanies
gain <- finStatement$`營業利益（損失）` > 0
postitive <- finStatement$`基本每股盈餘（元）` > 0
case1 <- gain & negative
case2 <- loss & postitive
condition1 <- case1 | case2
only1LossCompanies <- as.character(finStatement[condition1,"公司名稱"])
only1LossCompanies
# subsample
subsample <- finStatement[condition1,"公司名稱"]
subsample
# numExhibitions
numExhibitions <- length(exhibitionList)
numExhibitions
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
View(exhibitionList)
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
View(df_allShows)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
class(totalCount)
totalCount
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
View(finStatement)
# subsample
subsample <- finStatement[condition1,"公司名稱"]
subsample
# only1LossCompanies
gain <- finStatement$`營業利益（損失）` > 0
postitive <- finStatement$`基本每股盈餘（元）` > 0
case1 <- gain & negative
case2 <- loss & postitive
condition1 <- case1 | case2
only1LossCompanies <- as.character(finStatement[condition1,"公司名稱"])
only1LossCompanies
# loss1Companies
loss <- finStatement$`營業利益（損失）`< 0
loss1Companies <- as.character(finStatement[loss,"公司名稱"])
loss1Companies
# numExhibitions
numExhibitions <- length(exhibitionList)
numExhibitions
View(exhibitionList)
# subsample
subsample <- finStatement[condition1,]
subsample
View(finStatement)
a <- finStatement$`營業利益（損失）`> 0 & finStatement$`基本每股盈餘（元）` < 0
b <- finStatement$`營業利益（損失）`< 0 & finStatement$`基本每股盈餘（元）` > 0
finStatement$公司名稱[a | b ] -> only1LossCompanies
class(only1LossCompanies)
only1LossCompanies
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
# df_oneShow
df_oneShow <- data.frame(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]],
stringsAsFactors = F
)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- data.frame(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]]),
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
data.frame(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]],
stringsAsFactors = F
)
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
# df_oneShow
df_oneShow <- data.frame(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]],
stringsAsFactors = F
)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
data.frame(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]],
stringsAsFactors = F
)
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <-data.frame(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]],
stringsAsFactors = F
)
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
View(exhibitionList)
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <-data.frame(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]],
stringsAsFactors = F
)
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
