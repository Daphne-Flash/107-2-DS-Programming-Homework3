numExhibitions <- length(exhibitionList)
numExhibitions
# numExhibitions
numExhibitions <- length(exhibitionList)
numExhibitions
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow<- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow<- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow<- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow<- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow<- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- as.data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統",stringsAsFactors = F
)
# df_oneShow
df_oneShow <- as.data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統",
stringsAsFactors = F
)
# df_oneShow
df_oneShow <- as.data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統",
)
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow
# df_oneShow
df_oneShow <- data.frame(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title="哇賽!碰─體感大冒險2.0特展",
time="2019/01/01 09:00:00",
location="高雄市三民區九如一路720號",
locationName="國立科學工藝博物館",
price="體驗票+100;優惠票+230;學生票+240;全票+270",
endTime="2019/12/12 17:00:00",
sourceWebName="全國藝文活動資訊系統"
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["time"]],
exhibitionList[[1]][["location"]],
exhibitionList[[1]][["locationName"]],
exhibitionList[[1]][["price"]],
exhibitionList[[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["time"]],
exhibitionList[[1]][["location"]],
exhibitionList[[1]][["locationName"]],
exhibitionList[[1]][["price"]],
exhibitionList[[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["time"]],
exhibitionList[[1]][["location"]],
exhibitionList[[1]][["locationName"]],
exhibitionList[[1]][["price"]],
exhibitionList[[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- data.frame(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["time"]],
exhibitionList[[1]][["location"]],
exhibitionList[[1]][["locationName"]],
exhibitionList[[1]][["price"]],
exhibitionList[[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["time"]],
exhibitionList[[1]][["location"]],
exhibitionList[[1]][["locationName"]],
exhibitionList[[1]][["price"]],
exhibitionList[[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][["time"]],
exhibitionList[[1]][["showInfo"]][["location"]],
exhibitionList[[1]][["showInfo"]][["locationName"]],
exhibitionList[[1]][["showInfo"]][["price"]],
exhibitionList[[1]][["showInfo"]][["endTime"]],
exhibitionList[[1]][["showInfo"]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][["time"]],
exhibitionList[[1]][["showInfo"]][["location"]],
exhibitionList[[1]][["showInfo"]][["locationName"]],
exhibitionList[[1]][["showInfo"]][["price"]],
exhibitionList[[1]][["showInfo"]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
names(df_oneShow)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
names(df_oneShow)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
exhibitionList[[1]][["showInfo"]][[1]][["time"]],
exhibitionList[[1]][["showInfo"]][[1]][["location"]],
exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
exhibitionList[[1]][["showInfo"]][[1]][["price"]],
exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# loss1Companies
loss <- finStatement$`營業利益（損失）`< 0
loss1Companies <- as.character(finStatement[loss,"公司名稱"])
loss1Companies
# loss2Companies
negative <- finStatement$`基本每股盈餘（元）` < 0
loss2Companies <- as.character(finStatement[negative,"公司名稱"])
loss2Companies
# only1LossCompanies
gain <- finStatement$`營業利益（損失）` > 0
postitive <- finStatement$`基本每股盈餘（元）` > 0
case1 <- gain & negative
case2 <- loss & postitive
condition1 <- case1 | case2
only1LossCompanies <- as.character(finStatement[condition1,"公司名稱"])
only1LossCompanies
# subsample
subsample <- finStatement[condition1,"公司名稱"]
subsample
# numExhibitions
numExhibitions <- length(exhibitionList)
numExhibitions
# df_oneShow
df_oneShow <- list(
title=exhibitionList[[1]][["title"]],
time=exhibitionList[[1]][["showInfo"]][[1]][["time"]],
location=exhibitionList[[1]][["showInfo"]][[1]][["location"]],
locationName=exhibitionList[[1]][["showInfo"]][[1]][["locationName"]],
price=exhibitionList[[1]][["showInfo"]][[1]][["price"]],
endTime=exhibitionList[[1]][["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionList[[1]][["sourceWebName"]]
)
df_oneShow <- as.data.frame(df_oneShow,stringsAsFactors = F)
df_oneShow
#  dataframe_show_info
dataframe_show_info <- function(exhibitionInput){
df_oneShow <- df_oneShow <- list(
title=exhibitionInput[["title"]],
time=exhibitionInput[["showInfo"]][[1]][["time"]],
location=exhibitionInput[["showInfo"]][[1]][["location"]],
locationName=exhibitionInput[["showInfo"]][[1]][["locationName"]],
price=exhibitionInput[["showInfo"]][[1]][["price"]],
endTime=exhibitionInput[["showInfo"]][[1]][["endTime"]],
sourceWebName=exhibitionInput[["sourceWebName"]])
return(df_oneShow)
}
dataframe_show_info(exhibitionList[[5]])
dataframe_show_info
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# levels(df_allShows$sourceWebName)
df_allShows
View(df_allShows)
# levels(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName) <- df_allShows[sourceWebName]
# levels(df_allShows$sourceWebName)
df_allShows
levels(df_allShows$sourceWebName) <- df_allShows[sourceWebName]
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
library(purrr)
map_dfr(exhibitionList,dataframe_show_info) -> df_allShows
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows
as.factor(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(levels(df_allShows$sourceWebName)== "全國藝文活動資訊系統")
totalCount
# totalCount
totalCount <- levels(df_allShows$sourceWebName)== "全國藝文活動資訊系統")
# totalCount
totalCount <- levels(df_allShows$sourceWebName)== "全國藝文活動資訊系統"
totalCount
# levels(df_allShows$sourceWebName)
as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
# levels(df_allShows$sourceWebName)
df_allShows$sourceWebName <- as.factor(df_allShows$sourceWebName)
class(df_allShows$sourceWebName)
levels(df_allShows$sourceWebName)
# totalCount
totalCount <- sum(df_allShows$sourceWebName=="全國藝文活動資訊系統")
totalCount
